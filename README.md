## Анализ данных о сердечно-сосудистых заболеваниях, (поиск инсайтов, составление рекомендаций стейкхолдерам, построение предиктивной модели классификации наличия заболевания).

ЗАДАЧИ ИССЛЕДОВАНИЯ

Исследование проводится на основании данных, полученных по результатам диагностических обследований пациентов с признаками и симптомами сердечно-сосудистых заболеваний при их обращении в медицинские учреждения. 
Задачами исследования являются:
    
    * выявление влияния поведенческих факторов на параметры диагностических признаков и риск возникновения ССЗ.
    
    * выявление взаимосвязи объективных физических признаков (пол, возраст, рост, вес) с диагностическими признаками 
    и риском возникновения ССЗ.
    
    * определение признаков, имеющих статистически значимую взаимосвязь с наличием ССЗ, построение модели прогнозирования
    возникновения ССЗ на основе имеющихся данных, оценка ее точности.
    
ОПИСАНИЕ ДАННЫХ

Датасет сформирован по результатам диагностических обследований и содержит 70 000 записей. 
Признаки можно разделить на следующие типы:

    1. Фактические данные:
        • gender - пол, категориальный признак, 1 - женский, 2 - мужской 1 
        • age - возраст, количественный признак, указан в днях.
        • height - рост, количественный признак, указан в см.
        • weight - вес, количественный признак, указан в кг.
    
    2. Поведенческие факторы:
        • smoke - курение, категориальный признак, 1 - да, 0 - нет.
        • alco - употребление алкоголя, категориальный признак, 1 - да, 0 - нет.
        • active - физическая активность, категориальный признак, 1 - да, 0 - нет.  
    
    3. Диагностические данные:
        • ap_hi - систолическое кровяное давление, количественный признак.
        • lo_hi - диастолическое кровяное давление, количественный признак.
        • cholesterol - уровень холестерина в крови, категориальный признак, 1 - норма, 2 - выше нормы, 3 - значительно выше нормы.
        • gluc - уровень сахара в крови, категориальный признак, 1 - норма, 2 - выше нормы, 3 - значительно выше нормы.

Целевая переменная cardio - сердечно-сосудистое заболевание, категориальный признак, 1 - да, 0 - нет.
В датасете нет пропусков данных, все признаки заполнены. 

ПОДГОТОВКА ДАННЫХ

Данные признаков height, weight, ap_hi, ap_lo, судя по минимальным и максимальным значениям, требуют корректировки.
![image](https://user-images.githubusercontent.com/94550891/209708328-3eaa3a47-baf1-4bfc-bada-d350036af55b.png)

Для указанных выше признаков определим границы выбросов и проведем очистку данных. Рассчитаем границы выбросов, исходя из методики 
межквартильного диапазона с коэффициентом 1.5.

В итоге удалили 1 463 строк.

В данных содержится признак вес weight, играющий существенную роль в причинах возникновения ССЗ. Однако, абсолютное значение 
не всегда объективно, т.к. вес связан с ростом человека. Поэтому в медицине чаще используется относительный показатель 
Индекс массы тела (ИМТ) (англ. body mass index (BMI)).  ИМТ позволяет оценить степень соответствия массы человека и его роста и, 
тем самым, косвенно, оценить, является ли масса недостаточной, нормальной, избыточной (ожирение). Есть несколько методик расчета, 
возьмем самую распространенную (индекс Кетле):

 ИМТ = вес (кг) / (рост(м)) ** 2

Введем признак BMI, рассчитанный по данной формуле. 

АНАЛИЗ ДАННЫХ

После очистки данных итоговый датасет содержит информацию о 68 537 пациентах в возрасте от 39 до 64 лет. 
Половой состав: женщины - 65%, мужчины - 35%. Доля пациентов с диагностированным ССЗ составляет 49%. 
Заболеваемость среди мужчин и женщин практически одинакова: женщины - 49%, мужчины - 50%.
Рассмотрим заболеваемость в различных группах пациентов:

*Поведенческие признаки.* Большинство пациентов не курят, не употребляют алкоголь, физически активны. При этом заболеваемость среди них практически такая же, как в противоположной группе и в среднем по всем пациентам около 49%. Можно предположить, что в имеющихся данных влияние этих признаков на возникновение ССЗ будет небольшим.

*Диагностические признаки и ИМТ.* По отдельным признакам (холестерин, сахар) большинство пациентов имеют нормальные показатели, но при этом высокие уровни заболеваемости. Границы нормального артериального давления довольно условны, взяты исходя из возрастного состава пациентов в диапазоне 120 - 145. Высокий уровень заболеваемости в этой группе может быть связан с неблагоприятными показателями по другим признакам. Хотя доля каждого отдельного признака достаточно высокая, доля пациентов, имеющих нормальные показатели по всем этим признакам, составляет 4.9%. А высокий уровень заболеваемости может быть связан с наличием других факторов, не присутствующих в имеющихся данных. Большинство пациентов (95.1%) имеют хотя бы один признак, не соответствующий норме.

ИССЛЕДОВАНИЕ ЗАВИСИМОСТЕЙ МЕЖДУ ПРИЗНАКАМИ

Исследуем возможные зависимости между признаками:
  
        • Взаимосвязь целевого признака cardio с другими признаками.
    
        • Взаимосвязь поведенческих и диагностических признаков. 
      
        • Взаимосвязь веса с поведенческими и диагностическими признаками

 Для этого рассчитаем корреляцию между признаками и оценим статистическую значимость этой зависимости. Для расчета корреляции воспользуемся следующими методами:
        
        • Матрица корреляции Пирсона - для числовых признаков.
        
        • Хи-квадрат статистика, тест Фишера - для категориальных признаков.
        
        • Бисериальная корреляция - для числовых и категориальных признаков.
При оценке статистической значимости показателей исходим из уровня значимости alfa = 0.05.

1. Взаимосвязь целевого признака cardio с другими признаками.
Определим корреляционную связь и статистическую значимость для дальнейшего использования при построении предиктивной модели.

    1.1. Диагностические показатели - cardio. 
Поскольку систолическое и диастолическое давление - два связанных признака и возникновение ССЗ связано, в первую очередь, с уровнем систолического давления, то в дальнейшем анализе будем рассматривать только этот признак.

Анализ показывает корреляционную зависимость возникновения ССЗ от значений диагностических параметров, подтверждается их статистическая значимость, т.е. P-value < alfa.: 

![image](https://user-images.githubusercontent.com/94550891/209711389-5cebdf6e-899f-442f-85d9-4bbfa6938b69.png)

![image](https://user-images.githubusercontent.com/94550891/209711408-76f2e23b-0e3f-44b0-8910-dc469eb48531.png)

![image](https://user-images.githubusercontent.com/94550891/209711424-5d3cb64e-93c8-4c8a-9043-d2b3877e082b.png)

![image](https://user-images.githubusercontent.com/94550891/209711434-869bc367-aa03-4221-9ae5-53fda7cff2a2.png)

    1.2. Объективные показатели (ИМТ, возраст, пол) - cardio.
